<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--最上面 1,2行直接复制-->

<!--     这行标识 这个Mapper和那个dao关联 -->
<mapper namespace="basic.demo.dao.IUserInfoDAO">

    <!-- insert插入方法  id是什么, dao里面的方法名就是什么, 这里id是 save, dao里面肯定也有一个save方法-->
    <!-- 里面的 insert into 语句是sql语句  后面的values就这么写, 比如你穿过来id是1 这个#{id} 就是1 保存到数据库去-->
    <insert id="save" useGeneratedKeys="true" parameterType="basic.demo.po.UserInfoPO">
             insert into user_info(id,user_code,user_name,user_pwd,remark,create_by,create_date,modified_by,modified_date,sortno,state)
                    values(#{id},#{userCode},#{userName},#{userPwd},#{remark},#{createBy},#{createDate},#{modifiedBy},#{modifiedDate},#{sortno},#{state})
    </insert>

    <!--select查询方法 同样 id listUser
         resultMap : 查询后数据库会返回你查出来的东西给你, 这个时候你就得用一个东西去接收 ,这里用UserMap接收, 就是最下面一块 -->
    <select id="listUserInfo" resultMap="UserInfoMap">
        SELECT * FROM user_info
        <where>
            <if test="userName!=null and userName!=''">
                and user_name=#{userName}
            </if>
        </where>
        ;
    </select>

    <!-- 这里的 id, 就是给上面用的id . 如果里面你少些了一个. 比如少写了email, 数据库虽然会返回给你, 但是你最后是看不到的-->
    <!-- 看完后 到service 文件夹下的 IUserService-->
    <resultMap id="UserInfoMap" type="basic.demo.po.UserInfoPO">
        <result property="id" column="id" />
        <result property="userCode" column="user_code" />
        <result property="userName" column="user_name" />
        <result property="userPwd" column="user_pwd" />
        <result property="remark" column="remark" />
        <result property="createBy" column="create_by" />
        <result property="createDate" column="create_date" />
        <result property="modifiedBy" column="modified_by" />
        <result property="modifiedDate" column="modified_date" />
        <result property="sortno" column="sortno" />
        <result property="state" column="state" />

    </resultMap>
</mapper>